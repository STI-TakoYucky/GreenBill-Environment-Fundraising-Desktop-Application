<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Modern ComboBox Style -->
    <Style x:Key="ComboBox" TargetType="ComboBox">
        <Setter Property="Background" Value="White"/>
        <Setter Property="BorderBrush" Value="#D0D0D0"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Foreground" Value="#333333"/>
        <Setter Property="FontFamily" Value="./Assets/Fonts/#Poppins"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Height" Value="40"/>
        <Setter Property="Padding" Value="12,8"/>
        <Setter Property="HorizontalContentAlignment" Value="Left"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ComboBox">
                    <Grid>
                        <Border x:Name="Border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6"
                                Cursor="Hand">

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="40"/>
                                </Grid.ColumnDefinitions>

                                <!-- Content Presenter -->
                                <ContentPresenter Grid.Column="0"
                                                Name="ContentSite"
                                                IsHitTestVisible="False"
                                                Content="{TemplateBinding SelectionBoxItem}"
                                                ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                                ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                                Margin="{TemplateBinding Padding}"
                                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"/>

                                <!-- Dropdown Arrow -->
                                <Border Grid.Column="1" 
                                       x:Name="DropDownButton"
                                       Background="Transparent"
                                       BorderThickness="0">
                                    <Path x:Name="Arrow"
                                         Fill="#666666"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center"
                                         Data="M 0 0 L 4 4 L 8 0 Z"
                                         RenderTransformOrigin="0.5,0.5">
                                        <Path.RenderTransform>
                                            <RotateTransform x:Name="ArrowRotation" Angle="0"/>
                                        </Path.RenderTransform>
                                    </Path>
                                </Border>
                            </Grid>
                        </Border>

                        <!-- Popup -->
                        <Popup Name="Popup"
                               Placement="Bottom"
                               IsOpen="{TemplateBinding IsDropDownOpen}"
                               AllowsTransparency="True"
                               Focusable="False"
                               PopupAnimation="Slide">
                            <Grid Name="DropDown"
                                  SnapsToDevicePixels="True"
                                  MinWidth="{TemplateBinding ActualWidth}"
                                  MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                <Border x:Name="DropDownBorder"
                                       Background="White"
                                       BorderBrush="#D0D0D0"
                                       BorderThickness="1"
                                       CornerRadius="6"
                                       Margin="0,2,0,0">
                                    <Border.Effect>
                                        <DropShadowEffect Color="Black" 
                                                        Opacity="0.15" 
                                                        ShadowDepth="4" 
                                                        BlurRadius="8"/>
                                    </Border.Effect>
                                    <ScrollViewer Margin="4,6,4,6" 
                                                SnapsToDevicePixels="True">
                                        <StackPanel IsItemsHost="True" 
                                                  KeyboardNavigation.DirectionalNavigation="Contained"/>
                                    </ScrollViewer>
                                </Border>
                            </Grid>
                        </Popup>
                    </Grid>

                    <ControlTemplate.Triggers>
                        <!-- Hover Effect -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Border" Property="BorderBrush" Value="#999999"/>
                            <Setter TargetName="Arrow" Property="Fill" Value="#333333"/>
                        </Trigger>

                        <!-- Focus Effect -->
                        <Trigger Property="IsFocused" Value="True">
                            <Setter TargetName="Border" Property="BorderBrush" Value="#00695C"/>
                        </Trigger>

                        <!-- Dropdown Open Effect -->
                        <Trigger Property="IsDropDownOpen" Value="True">
                            <Setter TargetName="Border" Property="BorderBrush" Value="#00695C"/>
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="ArrowRotation"
                                                       Storyboard.TargetProperty="Angle"
                                                       To="180"
                                                       Duration="0:0:0.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="ArrowRotation"
                                                       Storyboard.TargetProperty="Angle"
                                                       To="0"
                                                       Duration="0:0:0.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>

                        <!-- Disabled Effect -->
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="Border" Property="Background" Value="#F5F5F5"/>
                            <Setter TargetName="Border" Property="BorderBrush" Value="#E0E0E0"/>
                            <Setter Property="Foreground" Value="#999999"/>
                            <Setter TargetName="Arrow" Property="Fill" Value="#CCCCCC"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    

</ResourceDictionary>