<UserControl x:Class="GreenBill.MVVM.View.FundraisingSteps.ThirdStep"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:GreenBill.MVVM.View.FundraisingSteps"
             mc:Ignorable="d" 
             d:DesignHeight="900" d:DesignWidth="1400"
             Background="#F5F5F5">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition Width="2*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" Background="White" CornerRadius="0, 20, 20, 0"/>

        <!-- Left Side - Welcome Content -->
        <StackPanel Grid.Column="0" 
                    VerticalAlignment="Center" 
                    HorizontalAlignment="Center"
                    Margin="50">

            <!-- Logo/Icon placeholder -->
            <Image Source="/Assets/Images/logo.png"
                Height="100"
            />

            <!-- Step indicator -->
            <TextBlock Text="3 of 5"
                       FontSize="14"
                       Foreground="#666666"
                       TextAlignment="Center"
                       Margin="0,0,0,30"/>

            <TextBlock Text="Add a cover photo or video"
                       FontSize="28"
                       FontWeight="Bold"
                       Foreground="#333333"
                       TextWrapping="Wrap"
                       TextAlignment="Center"
                       Margin="0,0,0,20"/>

            <TextBlock Text="Using a bright and clear photo helps people connect to your fundraiser right away."
                       FontSize="16"
                       Foreground="#666666"
                       TextAlignment="Center"
                       TextWrapping="Wrap"
                       LineHeight="24"
                       Margin="0,0,0,40"/>
        </StackPanel>

        <!-- Right Side - Form Content -->
        <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="50,50,100,50">

            <!-- Upload Area -->
            <Border x:Name="UploadArea"
                    Background="White"
                    BorderBrush="#CCCCCC"
                    BorderThickness="2"
                    CornerRadius="8"
                    Height="400"
                    Margin="0,0,0,30"
                    Cursor="Hand"
                    AllowDrop="True"
                    MouseLeftButtonUp="UploadArea_MouseLeftButtonUp"
                    DragEnter="UploadArea_DragEnter"
                    Drop="UploadArea_Drop">

                <Grid>
                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" x:Name="UploadPlaceholder">
                        <Border Width="60" Height="60" Background="#F0F0F0" CornerRadius="8" Margin="0,0,0,20">
                            <Path Data="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"
                                  Fill="#999999" Width="24" Height="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <TextBlock Text="Drag or upload your photo here" FontSize="16" Foreground="#999999" TextAlignment="Center"/>
                    </StackPanel>

                    <!-- Display uploaded image -->
                    <Image x:Name="PreviewImage" Stretch="Uniform" Visibility="Collapsed"/>
                </Grid>
            </Border>

            <!-- Navigation Buttons -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0"
           Width="50"
           Command="{Binding GoToPreviousStep}"
           Height="50"
           Background="White"
           BorderBrush="#E0E0E0"
           BorderThickness="1"
           HorizontalAlignment="Left">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                  BorderBrush="{TemplateBinding BorderBrush}"
                                  BorderThickness="{TemplateBinding BorderThickness}"
                                  CornerRadius="25">
                                            <Path Data="M15,12 L9,6 L10.4,4.6 L18,12 L10.4,19.4 L9,18 Z"
                                     Fill="#666666"
                                     RenderTransformOrigin="0.5,0.5"
                                     HorizontalAlignment="Center"
                                     VerticalAlignment="Center">
                                                <Path.RenderTransform>
                                                    <RotateTransform Angle="180"/>
                                                </Path.RenderTransform>
                                            </Path>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
                <Button Grid.Column="2" Content="Continue" Command="{Binding GoToStep4}" Style="{StaticResource PrimaryButton}" HorizontalAlignment="Right"/>
            </Grid>
        </StackPanel>
    </Grid>
</UserControl>